{% load static %}

<nav class="bg-white shadow-sm p-6 flex justify-between items-center">
    <div class="flex items-center space-x-4">
        <img src="https://placehold.co/40" alt="Logo" class="rounded-full w-10 h-10" />
        <div class="text-xl font-semibold text-teal-600">Test & Bet</div>
    </div>
    <div class="space-x-6 text-gray-600 font-medium">
        <a href="/" class="hover:text-teal-600">Dashboard</a>
        <a href="/backtests/" class="hover:text-teal-600">Backtest</a>
        <a href="#" class="hover:text-teal-600">Predikce</a>
        <a href="/strategies/" class="hover:text-teal-600">Srovnání strategií</a>
    </div>
    <div class="relative group">
        {% if user.is_authenticated %}
        <div class="group flex items-center space-x-6 cursor-pointer ">
            <div class="flex flex-col leading-tight bg-teal-100 rounded-lg text-gray-600 hover:bg-teal-300 hover:text-teal-900 ">
                <span class="text-gray-800 font-medium p-2 px-6">  
                    {{ user.username }}
                </span>
            </div>
        </div> 
        <div class="absolute left-0 right-0 h-4 top-full"></div>
        <div class="absolute left-1/2 mt-4 -translate-x-1/2 w-56 bg-white rounded-2xl shadow-2xl border border-gray-200 p-4
            opacity-0 pointer-events-none translate-y-1 transition-all duration-200 ease-out z-50
            group-hover:opacity-100 group-hover:pointer-events-auto group-hover:translate-y-0">

            <ul class="space-y-2 text-gray-700">
                <a href="/settings/" class="block p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition font-medium">
                    Settings
                </a>
                <a href="/strategies/" class="block p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition font-medium">
                    My Strategies
                </a>
                <a href="/backtests/" class="block p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition font-medium">
                    My Backtests
                </a>
                <form method="post" action="/registration/logout/" class="block flex  bg-gray-50 rounded-lg hover:bg-gray-100 transition">
                    {% csrf_token %}
                    <button type="submit" class="w-full font-medium text-left no-underline p-3">
                        <span>Logout</span>
                    </button>
                </form>
            </ul>
        </div>
        {% else %}
        <div class="group flex items-center space-x-6 cursor-pointer ">
            <div class="flex flex-col leading-tight bg-teal-100 rounded-lg text-gray-600 hover:bg-teal-300 hover:text-teal-900 ">
                <a href="/registration/login/" class="font-medium no-underline p-2 px-6">
                    <span>Login</span>
                </a>
            </div>
        </div>  
        {% endif %}
    </div>
</nav>